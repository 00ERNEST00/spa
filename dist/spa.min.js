!function(){var c,a=0,b=["ms","moz","webkit","o"];for(c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(a){function n(a){return a=a||e.href,a.replace(/^[^#]*#?\/?(.*)\/?$/,"$1")}function t(a){return"[object RegExp]"==toString.call(a)}function u(a){return a=a.replace(r,"\\$&").replace(o,"(?:$1)?").replace(p,function(a,b){return b?a:"([^/]+)"}).replace(q,"(.*?)"),"^"+a+"$"}function v(b,c){var d=b.exec(c).slice(1),e=[];return a.each(d,function(a,b){b&&e.push(decodeURIComponent(b))}),e}function w(a,b){a.data("prevPage.spa")&&a.data("prevPage.spa").css({zIndex:h}),b.data("prevPage.spa")&&b.data("prevPage.spa").css({zIndex:h}),a.css({zIndex:i}),b.css({zIndex:j})}function A(b,c,d,e){var d=(a(".spa-page-body",b),a(".spa-page-body",c),y[d]?d:"defaultInOut");x[d].apply(b,[b,c,e])}function D(){event.stopPropagation(),event.preventDefault()}var d,o,p,q,r,s,x,y,z,B,C,b=a(window),c=a(document),e=window.location,f=window.history,h=2e3,i=2001,j=2002,k="body { position: relative; margin: 0; padding: 0; width: 100%; overflow: hidden; }        .spa-fullscreen {position: absolute; left: 0; top: 0; margin: 0; padding: 0; width: 100%; visibility: hidden; overflow: hidden; z-index: -1; }        .spa-page {position: absolute; left: 0; top: 0; bottom: 0; right: 0; margin: 0; padding: 0; overflow: hidden; z-index: 2000; }        .spa-page-bg {position: absolute; left: 0; top: 0; bottom: 0; right: 0; margin: 0; padding: 0; }        .spa-page-body {position: absolute; left: 0; top: 0; bottom: 0; right: 0; margin: 0; padding: 0; overflow: hidden; }        .spa-scroll {overflow: auto; -webkit-overflow-scrolling: touch; -moz-overflow-scrolling: touch; -ms-overflow-scrolling: touch; -o-overflow-scrolling: touch; overflow-scrolling: touch; }        .spa-scroll-x {overflow-x: auto; -webkit-overflow-scrolling: touch; -moz-overflow-scrolling: touch; -ms-overflow-scrolling: touch; -o-overflow-scrolling: touch; overflow-scrolling: touch; }        .spa-scroll-y {overflow-y: auto; -webkit-overflow-scrolling: touch; -moz-overflow-scrolling: touch; -ms-overflow-scrolling: touch; -o-overflow-scrolling: touch; overflow-scrolling: touch; }        .spa-cover {position: absolute; left: 0; right: 0; top: 0; bottom: 0; text-align: center; z-index: 5000; }        .spa-loader {position: absolute; left: 0; right: 0; top: 0; bottom: 0; text-align: center; overflow: hidden; z-index: 5001; }",l='<div class="spa-loader-animate"><span></span><span></span><span></span></div>',m=".spa-loader .spa-loader-animate {position: absolute; left: 50%; top: 50%; margin: -12px 0 0 -65px; }        .spa-loader .spa-loader-animate span { display: inline-block; vertical-align: middle; width: 10px; height: 10px; margin: 0 10px; background: black; border-radius: 50px; -webkit-animation: loader 0.9s infinite alternate; -moz-animation: loader 0.9s infinite alternate; }        .spa-loader .spa-loader-animate span:nth-of-type(2) { -webkit-animation-delay: 0.3s; -moz-animation-delay: 0.3s; }        .spa-loader .spa-loader-animate span:nth-of-type(3) { -webkit-animation-delay: 0.6s; -moz-animation-delay: 0.6s; }        @-webkit-keyframes loader {          0% { width: 10px; height: 10px; opacity: 0.8; -webkit-transform: translateY(0); }          100% { width: 24px; height: 24px; opacity: 0.1; -webkit-transform: translateY(-21px); }        }        @-moz-keyframes loader {          0% { width: 10px; height: 10px; opacity: 0.8; -moz-transform: translateY(0); }          100% { width: 24px; height: 24px; opacity: 0.1; -moz-transform: translateY(-21px);}}";c.on("addstyle.spa",function(b,c){a('<style type="text/css">'+c+"</style>").appendTo(a("head"))}),b.on("adjustfullscreen.spa resize orientationchange",function(c){function g(){var c=e.data("$fullscreen"),f=Math.max(b.height(),window.innerHeight),g=Math.max(b.width(),window.innerWidth);c||(c=a('<div class="spa-fullscreen"></div>').prependTo(d),e.data("$fullscreen",c)),c.css({height:2*f}),window.scrollTo(0,0),b.data("innerHeight")||b.data({innerHeight:window.innerHeight}),f=Math.max(b.height(),window.innerHeight),c.height()!=f&&(d.css({width:g,height:f}),c.css({width:g,height:f}))}var e=a(c.currentTarget),f=e.data("adjustfullscreenRequestID");f?(cancelAnimationFrame(f),e.removeData("adjustfullscreenRequestID")):e.data("fullpageRequestID",requestAnimationFrame(function(){g()}))}),c.on("scroll.spa",function(b,c){var d=a(b.target),e=c&&c.direction||"";d.addClass("spa-scroll"+(e?"-"+e:""))}),c.on("touchstart",".spa-scroll, .spa-scroll-x, .spa-scroll-y",function(b){var c=a(b.currentTarget),d=c.scrollTop(),e=c.scrollLeft(),f=c.height(),g=c.width(),h=c.prop("scrollHeight"),i=c.prop("scrollWidth");(c.hasClass("spa-scroll")||c.hasClass("spa-scroll-x"))&&(0>e&&b.preventDefault(),0>=e&&c.scrollLeft(1),e+g>i&&b.preventDefault(),e+g>=i&&c.scrollLeft(i-g-1)),(c.hasClass("spa-scroll")||c.hasClass("spa-scroll-y"))&&(0>d&&b.preventDefault(),0>=d&&c.scrollTop(1),d+f>h&&b.preventDefault(),d+f>=h&&c.scrollTop(h-f-1))}),b.on("scroll",function(){var c=b.data("innerHeight");c&&c!=window.innerHeight&&b.trigger("adjustfullscreen.spa")}),b.on("popstate",function(a){var d,e,f,g,h,i,j,k,l;if(c.data("boot.spa")){if(d=b.data("cover.spa"),e=b.data("cover.spa"),d&&"block"==d.css("display")||e&&"block"==e.css("display"))return!1;if(f=b.data("curPage.spa"),f&&f.hasClass("spa-panel"))return g=f.data("prevPage.spa"),g.trigger("openpage.spa"),!1;h=b.data("hashhistory.spa")||[],i=n(),h.length&&h[h.length-1]==i||(h.push(i),b.data("hashhistory.spa",h),j=b.data("pagescache.spa")||{},k=j[i],l=a.state||{},b.data("pushData.spa")&&(l=b.data("pushData.spa"),b.data("pushData.spa",null)),k?(k.data("oldpushData.spa",k.data("pushData.spa")),k.data("pushData.spa",l),k.trigger("openpage.spa")):c.trigger("createpage.spa",{hash:i,pushData:l}))}}),o=/\((.*?)\)/g,p=/(\(\?)?:\w+/g,q=/\*\w+/g,r=/[\-{}\[\]+?.,\\\^$|#\s]/g,s={route:"",animate:"",classname:"",view:function(){return{title:"",body:""}},init:function(){},beforeopen:function(){},afteropen:function(){},beforeclose:function(){},afterclose:function(){}},c.on("route.spa",function(d,e){var g,f=Array.prototype.slice.call(arguments,1);return f.length>1?(a.each(f,function(a,b){c.trigger("route.spa",b)}),!1):(g=b.data("routes.spa")||{},route=e.route||"",t(route)||(route=u(route)),e.animate&&!a.isFunction(e.animate)&&z(e.animate)&&(e.animate=""),g[route]=a.extend({},s,e),b.data("routes.spa",g),void 0)}),x={},y={},x.defaultInOut=function(a,b,c){w(b,a),c()},c.on("addTransitPageAnimates.spa",function(b,c){var d=[];a.each(c,function(a){d.push(a)}),a.each(d,function(a,b){y[b]=0==a%2?d[a+1]:d[a-1]}),a.extend(x,c)}),c.trigger("addTransitPageAnimates.spa",{fadeIn:function(b,c,d){var e=a(".spa-page-body",b);a(".spa-page-body",c),w(c,b),e.css({opacity:0}).transition({opacity:1},function(){d()})},fadeOut:function(b,c,d){var f=(a(".spa-page-body",b),a(".spa-page-body",c));f.transition({opacity:0},function(){f.css({opacity:1}),w(c,b),d()})},fadeInLeft:function(b,c,d){var e=a(".spa-page-body",b);a(".spa-page-body",c),w(c,b),e.css({x:"100%",opacity:0}).transition({x:"0",opacity:1},function(){d()})},fadeOutRight:function(b,c,d){var f=(a(".spa-page-body",b),a(".spa-page-body",c));f.transition({x:"100%",opacity:0},function(){f.css({x:0,opacity:1}),w(c,b),d()})},fadeInRight:function(b,c,d){var e=a(".spa-page-body",b);a(".spa-page-body",c),w(c,b),e.css({x:"-100%",opacity:0}).transition({x:"0",opacity:1},function(){d()})},fadeOutLeft:function(b,c,d){var f=(a(".spa-page-body",b),a(".spa-page-body",c));f.transition({x:"-100%",opacity:0},function(){f.css({x:0,opacity:1}),w(c,b),d()})},fadeInUp:function(b,c,d){var e=a(".spa-page-body",b);a(".spa-page-body",c),w(c,b),e.css({y:"100%",opacity:0}).transition({y:"0",opacity:1},function(){d()})},fadeOutDown:function(b,c,d){var f=(a(".spa-page-body",b),a(".spa-page-body",c));f.transition({y:"100%",opacity:0},function(){f.css({y:0,opacity:1}),w(c,b),d()})},fadeInDown:function(b,c,d){var e=a(".spa-page-body",b);a(".spa-page-body",c),w(c,b),e.css({y:"-100%",opacity:0}).transition({y:"0",opacity:1},function(){d()})},fadeOutUp:function(b,c,d){var f=(a(".spa-page-body",b),a(".spa-page-body",c));f.transition({y:"-100%",opacity:0},function(){f.css({y:0,opacity:1}),w(c,b),d()})},slideInLeft:function(b,c,d){var e=a(".spa-page-body",b);a(".spa-page-body",c),w(c,b),e.css({x:"100%"}).transition({x:"0"},function(){d()})},slideOutRight:function(b,c,d){var f=(a(".spa-page-body",b),a(".spa-page-body",c));f.transition({x:"100%"},function(){f.css({x:0}),w(c,b),d()})},slideInRight:function(b,c,d){var e=a(".spa-page-body",b);a(".spa-page-body",c),w(c,b),e.css({x:"-100%"}).transition({x:"0"},function(){d()})},slideOutLeft:function(b,c,d){var f=(a(".spa-page-body",b),a(".spa-page-body",c));f.transition({x:"-100%"},function(){f.css({x:0}),w(c,b),d()})},slideInUp:function(b,c,d){var e=a(".spa-page-body",b);a(".spa-page-body",c),w(c,b),e.css({y:"100%"}).transition({y:"0"},function(){d()})},slideOutDown:function(b,c,d){var f=(a(".spa-page-body",b),a(".spa-page-body",c));f.transition({y:"100%"},function(){f.css({y:0}),w(c,b),d()})},slideInDown:function(b,c,d){var e=a(".spa-page-body",b);a(".spa-page-body",c),w(c,b),e.css({y:"-100%"}).transition({y:"0"},function(){d()})},slideOutUp:function(b,c,d){var f=(a(".spa-page-body",b),a(".spa-page-body",c));f.transition({y:"-100%"},function(){f.css({y:0}),w(c,b),d()})},pushInLeft:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=0;w(c,b),e.css({x:"100%"}).transition({x:"0"},function(){2==++g&&d()}),f.transition({x:"-100%"},function(){f.css({x:0}),2==++g&&d()})},pushOutRight:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=0;w(c,b),f.transition({x:"100%"},function(){f.css({x:0}),2==++g&&d()}),e.css({x:"-100%"}).transition({x:"0"},function(){2==++g&&d()})},pushInRight:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=0;w(c,b),f.transition({x:"100%"},function(){f.css({x:0}),2==++g&&d()}),e.css({x:"-100%"}).transition({x:"0"},function(){2==++g&&d()})},pushOutLeft:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=0;w(c,b),f.transition({x:"-100%"},function(){f.css({x:0}),2==++g&&d()}),e.css({x:"100%"}).transition({x:"0"},function(){2==++g&&d()})},pushInUp:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=0;w(c,b),f.transition({y:"-100%"},function(){f.css({y:0}),2==++g&&d()}),e.css({y:"100%"}).transition({y:"0"},function(){2==++g&&d()})},pushOutDown:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=0;w(c,b),f.transition({y:"100%"},function(){f.css({y:0}),2==++g&&d()}),e.css({y:"-100%"}).transition({y:"0"},function(){2==++g&&d()})},pushInDown:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=0;w(c,b),f.transition({y:"100%"},function(){f.css({y:0}),2==++g&&d()}),e.css({y:"-100%"}).transition({y:"0"},function(){2==++g&&d()})},pushOutUp:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=0;w(c,b),f.transition({y:"-100%"},function(){f.css({y:0}),2==++g&&d()}),e.css({y:"100%"}).transition({y:"0"},function(){2==++g&&d()})},zoomIn:function(b,c,d){var e=a(".spa-page-body",b);a(".spa-page-body",c),w(c,b),e.css({scale:0}).transition({scale:1},function(){d()})},zoomOut:function(b,c,d){var f=(a(".spa-page-body",b),a(".spa-page-body",c));f.transition({scale:0},function(){f.css({scale:1}),w(c,b),d()})},overlayInLeft:function(b,c,d){var e=a(".spa-page-body",b),g=(a(".spa-page-body",c),e.children().width());w(c,b),e.css({left:"auto",width:g}),g=2*g-e.prop("clientWidth"),e.css({width:g,x:g}).transition({x:0},function(){d()})},overlayOutRight:function(b,c,d){var f=(a(".spa-page-body",b),a(".spa-page-body",c)),g=f.width();f.transition({x:g},function(){f.css({width:"auto",left:0,x:0}),w(c,b),d()})},overlayInRight:function(b,c,d){var e=a(".spa-page-body",b),g=(a(".spa-page-body",c),e.children().width());w(c,b),e.css({right:"auto",width:g}),g=2*g-e.prop("clientWidth"),e.css({width:g,x:0-g}).transition({x:0},function(){d()})},overlayOutLeft:function(b,c,d){var f=(a(".spa-page-body",b),a(".spa-page-body",c)),g=f.width();f.transition({x:0-g},function(){f.css({width:"auto",right:0,x:0}),w(c,b),d()})},overlayInUp:function(b,c,d){var e=a(".spa-page-body",b),g=(a(".spa-page-body",c),e.children().height());w(c,b),e.css({top:"auto",height:g}),g=2*g-e.prop("clientHeight"),e.css({height:g,y:g}).transition({y:0},function(){d()})},overlayOutDown:function(b,c,d){var f=(a(".spa-page-body",b),a(".spa-page-body",c)),g=f.height();f.transition({y:g},function(){f.css({height:"auto",top:0,y:0}),w(c,b),d()})},overlayInDown:function(b,c,d){var e=a(".spa-page-body",b),g=(a(".spa-page-body",c),e.children().height());w(c,b),e.css({bottom:"auto",height:g}),g=2*g-e.prop("clientHeight"),e.css({height:g,y:0-g}).transition({y:0},function(){d()})},overlayOutUp:function(b,c,d){var f=(a(".spa-page-body",b),a(".spa-page-body",c)),g=f.height();f.transition({y:0-g},function(){f.css({height:"auto",bottom:0,y:0}),w(c,b),d()})},revealInLeft:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=e.children().width();w(b,c),e.css({left:"auto",width:g}),g=2*e.width()-e.prop("clientWidth"),e.css({width:g}),f.transition({x:0-g},function(){w(c,b),d()})},revealOutRight:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c);f.width(),w(c,b),e.transition({x:0},function(){f.css({width:"auto",left:0}),d()})},revealInRight:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=e.children().width();w(b,c),e.css({right:"auto",width:g}),g=2*e.width()-e.prop("clientWidth"),e.css({width:g}),f.transition({x:g},function(){w(c,b),d()})},revealOutLeft:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c);f.width(),w(c,b),e.transition({x:0},function(){f.css({width:"auto",right:0}),d()})},revealInUp:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=e.children().height();w(b,c),e.css({top:"auto",height:g}),g=2*e.height()-e.prop("clientHeight"),e.css({height:g}),f.transition({y:0-g},function(){w(c,b),d()})},revealOutDown:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c);f.height(),w(c,b),e.transition({y:0},function(){f.css({height:"auto",top:0}),d()})},revealInDown:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=e.children().height();w(b,c),e.css({bottom:"auto",height:g}),g=2*e.height()-e.prop("clientHeight"),e.css({height:g}),f.transition({y:g},function(){w(c,b),d()})},revealOutUp:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c);f.height(),w(c,b),e.transition({y:0},function(){f.css({height:"auto",bottom:0}),d()})},pushPartInLeft:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=e.children().width(),h=0;w(c,b),e.css({left:"auto",width:g}),g=2*e.width()-e.prop("clientWidth"),e.css({width:g,x:g}).transition({x:0},function(){2==++h&&d()}),f.transition({x:0-g},function(){2==++h&&d()})},pushPartOutRight:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=f.width(),h=0;w(c,b),e.transition({x:0},function(){2==++h&&d()}),f.transition({x:g},function(){f.css({width:"auto",left:0,x:0}),2==++h&&d()})},pushPartInRight:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=e.children().width(),h=0;w(c,b),e.css({right:"auto",width:g}),g=2*e.width()-e.prop("clientWidth"),e.css({width:g,x:0-g}).transition({x:0},function(){2==++h&&d()}),f.transition({x:g},function(){2==++h&&d()})},pushPartOutLeft:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=f.width(),h=0;w(c,b),e.transition({x:0},function(){2==++h&&d()}),f.transition({x:0-g},function(){f.css({width:"auto",right:0,x:0}),2==++h&&d()})},pushPartInUp:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=e.children().height(),h=0;w(c,b),e.css({top:"auto",height:g}),g=2*e.height()-e.prop("clientHeight"),e.css({height:g,y:g}).transition({y:0},function(){2==++h&&d()}),f.transition({y:0-g},function(){2==++h&&d()})},pushPartOutDown:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=f.height(),h=0;w(c,b),e.transition({y:0},function(){2==++h&&d()}),f.transition({y:g},function(){f.css({height:"auto",top:0,y:0}),2==++h&&d()})},pushPartInDown:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=e.children().height(),h=0;w(c,b),e.css({bottom:"auto",height:g}),g=2*e.height()-e.prop("clientHeight"),e.css({height:g,y:0-g}).transition({y:0},function(){2==++h&&d()}),f.transition({y:g},function(){2==++h&&d()})},pushPartOutUp:function(b,c,d){var e=a(".spa-page-body",b),f=a(".spa-page-body",c),g=f.height(),h=0;w(c,b),e.transition({y:0},function(){2==++h&&d()}),f.transition({y:0-g},function(){f.css({height:"auto",bottom:0,y:0}),2==++h&&d()})}}),z=function(){var a=/^(overlay|reveal|pushPart).*$/;return function(b){return a.test(b)}}(),B=function(){var a=0;return function(){return a++}}(),c.on("createpage.spa",function(d,e){var j,k,l,f,g,h,p,m,n,o;c.trigger("openloader.spa"),f=b.data("routes.spa"),g=e.hash,h=e.pushData,a.each(f,function(a,b){return k=new RegExp(a),k.test(g)?(j=a,l=b,!1):(k=!1,void 0)}),t(k)&&(m=b.data("pagescache.spa")||{},n=l.classname?" spa-page-"+l.classname:"",o=a('<div class="spa-page'+n+'"><div class="spa-page-bg"></div><div class="spa-page-body"></div></div>'),o.data({"hash.spa":g,"pushData.spa":h,"requestData.spa":v(k,g),"route.spa":j,"id.spa":B()}).appendTo(a("body")),p=l.view.call(o),a.isPlainObject(p)&&o.trigger("initpage.spa",p),m[g]=o,b.data("pagescache.spa",m))}),c.on("initpage.spa",".spa-page",function(d,e){var g,h,f=a(d.currentTarget);f.data("viewData.spa",e),a(".spa-page-body",f).html(e.body),g=b.data("routes.spa"),h=g[f.data("route.spa")],a.each(["init","beforeopen","afteropen","beforeclose","afterclose"],function(a,b){e[b]&&(h[b]=e[b])}),f.show(),h.init.call(f),c.trigger("closeloader.spa"),f.trigger("openpage.spa")}),c.on("openpage.spa",".spa-page",function(d,e){var r,s,t,u,v,w,f=a(d.currentTarget),g=b.data("curPage.spa"),h=b.data("routes.spa"),i=h[f.data("route.spa")],j=f.data("hash.spa"),k=f.data("pushData.spa"),o=(f.data("oldpushData.spa"),f.data("requestData.spa"),f.data("viewData.spa")),p=k.title||o.title,q=k.animate||i.animate;g||(g=a('<div class="spa-page"><div class="spa-page-body"></div></div>').appendTo(a("body")),b.data("curPage.spa",g)),g&&g.data("prevPage.spa")&&g.data("prevPage.spa").data("id.spa")==f.data("id.spa")&&(r=g.data("prevAnimate.spa"),r&&!a.isFunction(r)&&(q=y[r])),g.hasClass("spa-panel")?(u=b.data("panels.spa")[g.data("id.spa")],s=u.beforeclose,t=u.afterclose):g.data("route.spa")&&(v=h[g.data("route.spa")],s=v.beforeclose,t=v.afterclose),c.trigger("opencover.spa"),c.trigger("navigate.spa",{hash:j,title:p,pushData:k,replace:!0}),w=function(){i.afteropen.call(f),t&&t.call(g),f.data({"prevPage.spa":g}),b.data("curPage.spa",f),c.trigger("closecover.spa"),f.data("hash.spa")!=n()?b.trigger("popstate"):a.isFunction(e)&&e()},i.beforeopen.call(f),s&&s.call(g),f.data({"prevAnimate.spa":q}),a.isFunction(q)?q(f,g,w):A(f,g,q,w)}),C={id:"",animate:"",classname:"",view:function(){return{body:""}},init:function(){},beforeopen:function(){},afteropen:function(){},beforeclose:function(){},afterclose:function(){}},c.on("panel.spa",function(d,e){var g,f=Array.prototype.slice.call(arguments,1);return f.length>1?(a.each(f,function(a,b){c.trigger("panel.spa",b)}),!1):(g=b.data("panels.spa")||{},e.id&&!g[e.id]&&(g[e.id]=a.extend({},C,e),b.data("panels.spa",g)),void 0)}),c.on("openpanel.spa",function(d,e,f){var i,j,k,l,m,n,o,p,g=b.data("cover.spa"),h=b.data("cover.spa");if(g&&"block"==g.css("display")||h&&"block"==h.css("display"))return!1;if(i=b.data("panelscache.spa")||{},j=i[e],f=f||{},j){if(k=b.data("panels.spa"),l=k[e],m=b.data("curPage.spa"),n=f.animate||l.animate,m.hasClass("spa-panel"))return o=m.data("prevPage.spa"),o.trigger("openpage.spa",[function(){c.trigger("openpanel.spa",[e,f])}]),!1;j.data("oldpushData.spa",j.data("pushData.spa")),j.data("pushData.spa",f),c.trigger("opencover.spa"),l.beforeopen.call(j),p=function(){l.afteropen.call(j),j.data({"prevPage.spa":m}),b.data("curPage.spa",j),c.trigger("closecover.spa")},j.data({"prevAnimate.spa":n}),a.isFunction(n)?n(j,m,p):A(j,m,n,p)}else c.trigger("createpanel.spa",[e,f])}),c.on("closepanel.spa",function(c,d){var g,e=a(c.target),f=b.data("curPage.spa");d&&d.id&&(e=a(".spa-panel-"+d.id)),f.hasClass("spa-panel")&&f.data("id.spa")==e.data("id.spa")&&(g=e.data("prevPage.spa"),g.trigger("openpage.spa"))}),c.on("createpanel.spa",function(d,e,f){var l,i,j,k,g=b.data("panels.spa")||{},h=g[e];h&&(c.trigger("openloader.spa"),i=b.data("panelscache.spa")||{},j=h.classname?" spa-panel-"+h.classname:"",k=a('<div id="spa-panel-'+e+'" class="spa-page spa-panel '+j+'"><div class="spa-page-bg"></div><div class="spa-page-body"></div></div>'),k.data({"id.spa":e,"pushData.spa":f}).appendTo(a("body")),l=h.view.call(k),i[e]=k,b.data("panelscache.spa",i),a.isPlainObject(l)&&k.trigger("initpanel.spa",l))}),c.on("initpanel.spa",".spa-panel",function(d,e){var i,j,f=a(d.currentTarget),g=f.data("id.spa"),h=f.data("pushData.spa");f.data("viewData.spa",e),a(".spa-page-body",f).html(e.body),i=b.data("panels.spa"),j=i[g],a.each(["init","beforeopen","afteropen","beforeclose","afterclose"],function(a,b){e[b]&&(j[b]=e[b])}),j.init.call(f),c.trigger("closeloader.spa"),f.trigger("openpanel.spa",[g,h])}),c.on("click touchstart",".spa-panel",function(b){var c=a(b.currentTarget),d=a(b.target);(d.hasClass("spa-page-bg")||d.hasClass("spa-panel"))&&(b.stopPropagation(),b.preventDefault(),c.trigger("closepanel.spa"))}),c.on("navigate.spa",function(c,d){var e=d.hash||"",g=d.title||"",h=d.pushData||{},i=d.replace||!1;g&&(document.title=g),e=e?"#"+e:"",i?f.replaceState(h,g,e):(f.pushState(h,g,e),!a.isEmptyObject(h)&&b.data("pushData.spa",h),b.trigger("popstate"))}),c.on("opencover.spa",function(){var d=b.data("cover.spa");d||(d=a('<div class="spa-cover"></div>').appendTo(a("body")),d.on("click select mousedown mousemove mouseup touchstart touchmove touchend",D),d.trigger("scroll.spa"),b.data("cover.spa",d)),d.show()}),c.on("closecover.spa",function(){b.data("cover.spa").hide()}),c.on("loader.spa",function(a,b){b.body&&(l=b.body),b.style&&(m=b.style)}),c.on("openloader.spa",function(){var e=b.data("loader.spa");e||(c.trigger("addstyle.spa",m),e=a('<div class="spa-loader">'+l+"</div>").appendTo(a("body")),e.on("click select mousedown mousemove mouseup touchstart touchmove touchend",D),b.data("loader.spa",e)),e.show()}),c.on("closeloader.spa",function(){b.data("loader.spa").hide()}),c.on("boot.spa",function(){d=a("body"),c.trigger("addstyle.spa",k),c.trigger("adjustfullscreen.spa"),c.data("boot.spa",!0),b.trigger("popstate")})}(jQuery);